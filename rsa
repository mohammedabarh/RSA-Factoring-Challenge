#!/usr/bin/python3
"""RSA Factorization Module"""
from sys import argv
from math import isqrt


def find_prime_divisors(target):
    """
    Find prime divisors of a given number
    """
    for potential_divisor in range(2, isqrt(target) + 1):
        if target % potential_divisor == 0:
            if all(potential_divisor % j != 0 for j in range(2, isqrt(potential_divisor) + 1)):
                quotient = target // potential_divisor
                if all(quotient % j != 0 for j in range(2, isqrt(quotient) + 1)):
                    return quotient, potential_divisor
    return target, 1


def process_file(file_path):
    """
    Process numbers from a file and print their prime factors
    """
    with open(file_path) as input_file:
        for line in input_file:
            current_number = int(line.strip())
            factor_p, factor_q = find_prime_divisors(current_number)
            print(f"{current_number}={factor_p}*{factor_q}")


if __name__ == "__main__":
    if len(argv) != 2:
        print(f"Usage: {argv[0]} <file>")
        exit(1)
    process_file(argv[1])
